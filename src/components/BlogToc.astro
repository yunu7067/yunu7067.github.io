---
import type { HTMLElement } from "node-html-parser";

export interface Props {
	contents: HTMLElement[]
}

const { contents } = Astro.props as Props;
---

<details class="bg-gray-200 dark:bg-gray-700 rounded-sm py-7 px-10 mb-8" aria-label="Table of Contents" open>
	<summary class="text-xl font-bold">목차</summary>
	<div class="mt-2.5">
		{ contents.map((el)=> (
		<div class={`toc text-gray-800 dark:text-gray-300 mb-1.5 ${el.tagName.replace(`H`, `depth` )}`}>
			<a href={`#${el.id}`}>{el.textContent}</a>
		</div>
		)) }
	</div>
</details>

<style>
	.toc.depth1 {}

	.toc.depth2 {
		padding-left: 1.25rem;
	}

	.toc.depth3 {
		padding-left: 2.75rem;
	}
</style>