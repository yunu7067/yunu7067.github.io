---
import type {MarkdownHeading} from 'astro';
import TableOfContents from './TableOfContents';

export interface Props {
  headings: MarkdownHeading[];
}

const {headings} = Astro.props as Props;
---

<aside class='h-100 xl:block hidden'>
  <nav class='ml-4 w-64 sticky top-4 bg-white overflow-visible'>
    {headings && <TableOfContents headings={headings} client:media='(min-width: 50em)' />}
  </nav>
</aside>

<style>
  nav {
    width: 100%;
    padding: var(--doc-padding-block) 0;
    overflow: auto;
  }
  /* style applied only on Firefox, this avoids scrollbars overlapping. */
  @supports (-moz-appearance: none) {
    .sidebar-nav {
      padding-inline-end: 1.5rem;
    }
  }
</style>
