import{g as h,c as M,s as g,t as f,h as S,i as u,f as C,d as T,a as x,b as z,m as R,r as H}from"./chunks/web.48a17485.js";import{f as N}from"./chunks/flexsearch.bundle.be1a35d4.js";const j=f('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"></path><path d="M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"></path></svg>'),I=e=>(()=>{const t=h(j),r=t.firstChild,a=r.nextSibling;return M(s=>{const n=e.width||"1em",d=e.height||"1em",$=e.color||"currentColor";return n!==s._v$&&g(t,"width",s._v$=n),d!==s._v$2&&g(t,"height",s._v$2=d),$!==s._v$3&&g(a,"fill",s._v$3=$),s},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})(),K=(e,t)=>{let r;const a=()=>clearTimeout(r);return[(...n)=>{r!==void 0&&a(),r=setTimeout(()=>e(...n),t)},a]},L=f('<li class="py-0.5 px-2.5 rounded-md bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200 text-sm text-slate-800"><a>#<!#><!/></a></li>');function q({tagName:e}){return(()=>{const t=h(L),r=t.firstChild,a=r.firstChild,s=a.nextSibling,[n,d]=S(s.nextSibling);return g(r,"href",`/tag/${e}`),u(r,e,n,d),t})()}const F=f('<ul class="flex flex-row gap-2 flex-wrap"></ul>');function G({tags:e}){return(()=>{const t=h(F);return u(t,()=>e&&e.map(r=>C(q,{tagName:r}))),t})()}const J=f('<div><div class="relative"><input id="input-search" type="text" class="bg-gray-100 dark:bg-gray-700 mb-4 p-4 pr-14 focus:ring-indigo-500 focus:border-indigo-500 dark:focus:ring-indigo-800 dark:focus:border-indigo-800 flex-1 block w-full rounded-none rounded-r-md text-sm" placeholder="\uC5EC\uAE30\uC5D0 \uAC80\uC0C9\uC5B4\uB97C \uC785\uB825\uD558\uC138\uC694." maxlength="30"><label for="input-search" class="absolute p-4 mb-4 top-0 right-0 text-sm dark:text-gray-200"></label><p class="mb-5">(\uAC80\uC0C9 \uD544\uB4DC: title, description, tags)</p></div><output><div></div></output></div>'),O=f('<div class="p-8 border rounded-md mb-2 dark:border-gray-600"><a><h1 class="mb-1.5 text-2xl font-bold hover:underline hover:underline-offset-1"></h1></a><p class="mb-3"></p><!#><!/></div>');function V({keys:e}){const[t,r]=x(""),[a,s]=x(),[n,d]=x(),[$,P]=K(()=>{const l=new Map;a().search(t(),{enrich:!0,suggest:!0}).forEach(i=>{i.result.forEach(o=>{l.set(o.id,o)})}),d(Array.from(l,([i,o])=>o)),console.debug({results:l})},365);return z(()=>{(async function(){const l=new N.exports.Document({document:{id:"id",index:["title","description","tags"],store:["title","description","tags"]}});for(let c=0,i;c<e.length;c++){i=e[c];const o=await fetch(`/search-index/${i}.json`).then(m=>m.text());l.import(i,o??null)}return l})().then(l=>{s(l)})}),(()=>{const l=h(J),c=l.firstChild,i=c.firstChild,o=i.nextSibling,m=c.nextSibling,k=m.firstChild;return i.$$input=p=>{r(p.currentTarget.value),$()},u(o,C(I,{width:"20",height:"20"})),u(k,(()=>{const p=R(()=>!!n(),!0);return()=>p()&&n().map(({id:y,doc:v})=>(()=>{const _=h(O),b=_.firstChild,E=b.firstChild,w=b.nextSibling,D=w.nextSibling,[A,B]=S(D.nextSibling);return g(b,"href",y),u(E,()=>v.title),u(w,()=>v.description),u(_,C(G,{get tags(){return v.tags}}),A,B),_})())})()),H(),l})()}T(["input"]);export{V as default};
